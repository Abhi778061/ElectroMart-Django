{% extends "base.html" %}
{% block content %}

<style>
/* WRAPPER */
.wishlist-wrapper{
  min-height:85vh;
  display:flex;
  justify-content:flex-start;
  align-items:flex-start;
  gap:24px;              /* GAP BETWEEN CARDS */
  flex-wrap:wrap;
}

/* CARD */
.wishlist-card{
  width:30%;             /* REDUCED 10% */
  background:#fff;
  border-radius:16px;
  padding:16px;
  box-shadow:0 8px 20px rgba(0,0,0,.15);
  transition:.3s ease;
}
.wishlist-card:hover{
  transform:translateY(-6px);
  box-shadow:0 16px 35px rgba(0,0,0,.25);
}

/* IMAGE */
.wishlist-card img{
  width:100%;
  height:200px;
  object-fit:contain;
  margin-bottom:12px;
}

/* PRICE */
.final-price{
  font-size:20px;
  font-weight:700;
  color:#198754;
}
.original-price{
  margin-left:10px;
  text-decoration:line-through;
  color:#888;
  font-size:15px;
}
.discount-text{
  margin-left:8px;
  color:#dc3545;
  font-weight:600;
  font-size:14px;
}

/* EMPTY */
.empty-box{
  min-height:85vh;
  width:100%;
  display:flex;
  justify-content:center;
  align-items:center;
  flex-direction:column;
  animation:fadeUp .8s ease;
}
@keyframes fadeUp{
  from{opacity:0; transform:translateY(20px);}
  to{opacity:1; transform:translateY(0);}
}
</style>

<div class="container wishlist-wrapper">

{% if wishlist_items %}

  {% for item in wishlist_items %}
  <div class="wishlist-card text-center mb-3">

    <!-- IMAGE -->
    <img src="{{ item.product.image.url }}" alt="{{ item.product.name }}">

    <!-- DETAILS -->
    <h5 class="fw-bold">{{ item.product.name }}</h5>

    <p class="text-muted mb-1">
      Brand: <strong>ElectroMart Originals</strong>
    </p>

    <div class="mb-2">
      ⭐⭐⭐⭐☆ <span class="text-muted">4.4 (2,300)</span>
    </div>

    <!-- PRICE SECTION -->
    <div class="mb-2">
      <span class="final-price">₹{{ item.product.price }}</span>

      <span class="original-price">
        ₹{{ item.product.price|add:"2000" }}
      </span>

      <span class="discount-text">
        20% OFF
      </span>
    </div>

    <p class="text-success small mb-3">
      In stock • Free delivery by Tomorrow
    </p>

    <!-- ACTIONS -->
    <div class="d-flex justify-content-center gap-2">
      <a href="{% url 'add_to_cart' item.product.id %}"
         class="btn btn-warning btn-sm fw-semibold">
        Add to Cart
      </a>

      <a href="{% url 'remove_from_wishlist' item.id %}"
         class="btn btn-outline-danger btn-sm">
        Remove
      </a>
    </div>

  </div>
  {% endfor %}

{% else %}

  <!-- EMPTY WISHLIST -->
  <div class="empty-box">
    <h3>❤️ My Wishlist</h3>
    <p class="text-muted fs-5">Your wishlist is empty</p>
  </div>

{% endif %}

</div>

{% endblock %}
